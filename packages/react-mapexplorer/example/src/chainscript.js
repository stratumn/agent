const chainscript_raw = `[{"link":{"state":{"title":"test2"},"meta":{"action":"init","arguments":["test2"],"mapId":"25b3ae4d-151b-4741-b019-ed3169f23333","process":"blah","refs":[],"stateHash":"53bc01d04ffaa2af50fea833ac22415903bc1dfdc426399e75a02516768ababe"}},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-5AKxd9","proof":{"blockHeight":89091,"merkleRoot":"85e44eee398c3f123cbfabc1c3262392a5f8822da8719552312f6bd7ccd3d79f","merklePath":[{"left":"0185cc20bc088fb86eab72f6f921ee568d2be13d0ee273520ebfb916e47cd989","right":"77bf231be035c74eef22e75b34bed58afcc69a361787c77d55b2ce77b9c886c9","parent":"85e44eee398c3f123cbfabc1c3262392a5f8822da8719552312f6bd7ccd3d79f"}],"validationsHash":null,"header":{"chain_id":"test-chain-5AKxd9","height":89091,"time":1513260611,"last_commit_hash":"toAVRGGIdaIf2bjqyYwzRlcYv/E=","data_hash":"OBj8lq6mSXgE9S7KRtTkAppQbuM=","app_hash":"67pv8OR2/ISQtEoYc+3hN0z1UddUePspJkwD4mgUweM="},"signatures":null,"nextHeader":{"chain_id":"test-chain-5AKxd9","height":89092,"time":1513260621,"last_block_id":{"hash":"LA9SfFiog1IFNFEJ89A6lCtOr6Y=","parts":{"total":1,"hash":"WzgF9gWDSS6ip3EE/AKkpeDf1CA="}},"last_commit_hash":"GvkA0lEZ/ygQuBbo5v/qGqFy9bo=","app_hash":"0U7AaZEW6gBI4Wk4Jg8vLTtgxkJFtXZRkTwWhnjiUVo="},"nextSignatures":null}}],"linkHash":"0185cc20bc088fb86eab72f6f921ee568d2be13d0ee273520ebfb916e47cd989","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/blah/segments/0185cc20bc088fb86eab72f6f921ee568d2be13d0ee273520ebfb916e47cd989"}},{"link":{"state":{"title":"test"},"meta":{"action":"init","arguments":["test"],"mapId":"8e190d9b-a0c8-4e59-b2fd-553208ec9f10","process":"blah","refs":[],"stateHash":"e23125f47aa7478e7c12820212c1ac50110b80922a36c2c713564329fe591ad6"}},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-5AKxd9","proof":{"blockHeight":10080,"merkleRoot":"1cd668505be5dea6c6889690817d565e4784f5393bef5bf663783ec57ba7215c","merklePath":[],"validationsHash":"7294ece4386d9efb114f8a16646caf52c96ee7f18813bc82b88c5cfff82e9b71","header":{"chain_id":"test-chain-5AKxd9","height":10080,"time":1513178754,"last_commit_hash":"9laE31aDxLqyZFyIUyHKiI7e09o=","data_hash":"AUy1/CjR0+RfdV/dtIHRlmmhd5Q=","app_hash":"hP+n+Y3Y88J95wkHmIeympvDCwJPN2RT1Te1jlIswHg="},"signatures":null,"nextHeader":{"chain_id":"test-chain-5AKxd9","height":10081,"time":1513178755,"last_block_id":{"hash":"o+Df26tLQWFKhfTnFEV58lCoRwY=","parts":{"total":1,"hash":"mDsO7Kip0jfdxmKp+8wgG0v+xqg="}},"last_commit_hash":"WBz0BqCqNA0XMYsvWvAjkpMZVOY=","app_hash":"9+7WT24R36eCaeRlJcPa+NdtV/Cqj2t0CR2Cr6A+jb0="},"nextSignatures":null}}, {
  "backend": "bcbatch",
  "provider": "bitcoin:test3",
  "proof": {
    "batch": {
      "timestamp": 1514477251,
      "merkleRoot": "13b9387108f7af3eabe3194435ba33557c88b18c753d188e4679e842f8d3e94c",
      "merklePath": []
    },
    "txid": "29f0a491e76ec1f7eff78e3e63e8038de5587f528288694c33628e9a507497e4"
  }
}],"linkHash":"1cd668505be5dea6c6889690817d565e4784f5393bef5bf663783ec57ba7215c","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/blah/segments/1cd668505be5dea6c6889690817d565e4784f5393bef5bf663783ec57ba7215c"}},{"link":{"state":{"author":"test","body":"test"},"meta":{"action":"message","arguments":["test","test"],"mapId":"25b3ae4d-151b-4741-b019-ed3169f23333","prevLinkHash":"0185cc20bc088fb86eab72f6f921ee568d2be13d0ee273520ebfb916e47cd989","process":"blah","refs":[],"stateHash":"29377ff99a8bdd9df2f295b001eade8ffd5c407a1f2bcc825ea567eba3807084"}},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-5AKxd9","proof":{"blockHeight":89166,"merkleRoot":"1e09d150cfa8098e4823936251a80e39d402013defe0117a70c60aa767942d08","merklePath":[],"validationsHash":null,"header":{"chain_id":"test-chain-5AKxd9","height":89166,"time":1513261362,"last_commit_hash":"++7Mc/iycaK7+F/dT8XZyKlBrcY=","data_hash":"8OR67Vhq/IdDBDceFsv2zO5EWoA=","app_hash":"WgkmWitHZTa3/K9QH8tNVqJIuU7v3AgdNSsoUuIh3/s="},"signatures":null,"nextHeader":{"chain_id":"test-chain-5AKxd9","height":89167,"time":1513261372,"last_block_id":{"hash":"HsJlcjHnafWKeY7Qu8ZV5ZKXnKE=","parts":{"total":1,"hash":"CF2vAyKaD9Xt55gIex5n6Wk4khY="}},"last_commit_hash":"x/ONHLdqGuTCMdZCBkX7re7KnVY=","app_hash":"FWb7OCABQx7sykKmvlHKk17m+5pP2CRFc9JJug1ZdLI="},"nextSignatures":null}}],"linkHash":"1e09d150cfa8098e4823936251a80e39d402013defe0117a70c60aa767942d08","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/blah/segments/1e09d150cfa8098e4823936251a80e39d402013defe0117a70c60aa767942d08"}},{"link":{"state":{"title":"Test3"},"meta":{"action":"init","arguments":["Test3"],"mapId":"95c93cab-32c0-40ce-9e15-5e94552e891d","process":"blah","refs":[],"stateHash":"71c29f522c149d3143eb1855b8e053e4b20b59d71ade57ad3d578cf9a981ad61"}},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-5AKxd9","proof":{"blockHeight":8557,"merkleRoot":"3c8ed59aa7f74a4fd0af498cfdfba87859b60eee872b488ed18a79b6ea12e546","merklePath":[],"validationsHash":"7294ece4386d9efb114f8a16646caf52c96ee7f18813bc82b88c5cfff82e9b71","header":{"chain_id":"test-chain-5AKxd9","height":8557,"time":1512655037,"last_commit_hash":"2AeTgI/MSkSRxQd5pHzZ26lTyWM=","data_hash":"ZDob2ZJ3RvFtiP09QL0mqs6pcPE=","app_hash":"eLtJR7SlL+WaVchoWiX+t5QCSZn1NFIaGcl0mT72N8U="},"signatures":null,"nextHeader":{"chain_id":"test-chain-5AKxd9","height":8558,"time":1513177209,"last_block_id":{"hash":"0gCJX/SVg/NIga4+Az1hDC+p6Gc=","parts":{"total":1,"hash":"bPtQZUCYX1R+SrhHA3E/S7dEQdc="}},"last_commit_hash":"HQhP3Nm72rNgfA5Rm5hhiVyx4OA=","app_hash":"+BDGTGS4bOACY9GevoT1TOOH+0hAIEeLH3lK2UZMkeQ="},"nextSignatures":null}}],"linkHash":"3c8ed59aa7f74a4fd0af498cfdfba87859b60eee872b488ed18a79b6ea12e546","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/blah/segments/3c8ed59aa7f74a4fd0af498cfdfba87859b60eee872b488ed18a79b6ea12e546"}},{"link":{"state":{"author":"test2","body":"test2"},"meta":{"action":"message","arguments":["test2","test2"],"mapId":"25b3ae4d-151b-4741-b019-ed3169f23333","prevLinkHash":"0185cc20bc088fb86eab72f6f921ee568d2be13d0ee273520ebfb916e47cd989","process":"blah","refs":[],"stateHash":"123665430945752b3de2da2b8cc4cd5e262947a72d3a4c8c5a2071a7a6c8cb44"}},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-5AKxd9","proof":{"blockHeight":89169,"merkleRoot":"4df4b7014a337f47678324720c5738574561d704e1b9c5b89756c09cfe5aaeb5","merklePath":[],"validationsHash":null,"header":{"chain_id":"test-chain-5AKxd9","height":89169,"time":1513261392,"last_commit_hash":"K96agIQeBLq3s5sLJEEaNEfPX48=","data_hash":"7v9FbHAhq2PDzbnR26JNmEoAuN4=","app_hash":"UPyLR2LQxliYCM49QjoxYzv4L2BJTCJR6czQ7C/e+fQ="},"signatures":null,"nextHeader":{"chain_id":"test-chain-5AKxd9","height":89170,"time":1513261402,"last_block_id":{"hash":"95IeSba1tFVdw5+9uUhxnnihSCk=","parts":{"total":1,"hash":"x9SJGHPvEiK4x7e7lqLHxn8VIgQ="}},"last_commit_hash":"+DKFBoDGzXnDyeY3GawCGDqKukE=","app_hash":"YpP4UN7/PvOgjoYGOWM3G4Vn/xuWPUeYxbaRMUW6tIY="},"nextSignatures":null}}],"linkHash":"4df4b7014a337f47678324720c5738574561d704e1b9c5b89756c09cfe5aaeb5","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/blah/segments/4df4b7014a337f47678324720c5738574561d704e1b9c5b89756c09cfe5aaeb5"}},{"link":{"state":{"title":"test1"},"meta":{"action":"init","arguments":["test1"],"mapId":"ecf574a3-c9b4-4546-8f7f-ac70347644d1","process":"blah","refs":[],"stateHash":"8b52b9b90b8b8a63e88d250e8a2ddb4cf867aba577e615416f1a2c2c797d9f09"}},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-5AKxd9","proof":{"blockHeight":89091,"merkleRoot":"85e44eee398c3f123cbfabc1c3262392a5f8822da8719552312f6bd7ccd3d79f","merklePath":[{"left":"0185cc20bc088fb86eab72f6f921ee568d2be13d0ee273520ebfb916e47cd989","right":"77bf231be035c74eef22e75b34bed58afcc69a361787c77d55b2ce77b9c886c9","parent":"85e44eee398c3f123cbfabc1c3262392a5f8822da8719552312f6bd7ccd3d79f"}],"validationsHash":null,"header":{"chain_id":"test-chain-5AKxd9","height":89091,"time":1513260611,"last_commit_hash":"toAVRGGIdaIf2bjqyYwzRlcYv/E=","data_hash":"OBj8lq6mSXgE9S7KRtTkAppQbuM=","app_hash":"67pv8OR2/ISQtEoYc+3hN0z1UddUePspJkwD4mgUweM="},"signatures":null,"nextHeader":{"chain_id":"test-chain-5AKxd9","height":89092,"time":1513260621,"last_block_id":{"hash":"LA9SfFiog1IFNFEJ89A6lCtOr6Y=","parts":{"total":1,"hash":"WzgF9gWDSS6ip3EE/AKkpeDf1CA="}},"last_commit_hash":"GvkA0lEZ/ygQuBbo5v/qGqFy9bo=","app_hash":"0U7AaZEW6gBI4Wk4Jg8vLTtgxkJFtXZRkTwWhnjiUVo="},"nextSignatures":null}}],"linkHash":"77bf231be035c74eef22e75b34bed58afcc69a361787c77d55b2ce77b9c886c9","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/blah/segments/77bf231be035c74eef22e75b34bed58afcc69a361787c77d55b2ce77b9c886c9"}},{"link":{"state":{"author":"testt","body":"test"},"meta":{"action":"message","arguments":["test","testt"],"mapId":"25b3ae4d-151b-4741-b019-ed3169f23333","prevLinkHash":"1e09d150cfa8098e4823936251a80e39d402013defe0117a70c60aa767942d08","process":"blah","refs":[],"stateHash":"3708d039e8d7d24033b8498a95bd67d987fd53d612cdbe177c22a3d4082b06e7"}},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-5AKxd9","proof":{"blockHeight":89236,"merkleRoot":"aeeb4b21675c6f69e021add706141baa48136947961105bb2cde12a7bcc4b0e5","merklePath":[],"validationsHash":null,"header":{"chain_id":"test-chain-5AKxd9","height":89236,"time":1513262063,"last_commit_hash":"enmRzfxHlWOq/vldGk5BRU8UnpU=","data_hash":"HVaqh+WqN73miTILP8PO2qcm+cA=","app_hash":"QHOcThPJ6mgsRZT0IRSt00v8TsSId7q0htJHzUQQepE="},"signatures":null,"nextHeader":{"chain_id":"test-chain-5AKxd9","height":89237,"time":1513262073,"num_txs":1,"last_block_id":{"hash":"ATAuHm9wLowafe/xWRPaD0RPrK0=","parts":{"total":1,"hash":"Vs0+mBszmUv+OS2ceLOH3KnwBAg="}},"last_commit_hash":"3yOk3nD/hiJzMHWuCAWCnvI1Iug=","data_hash":"rREaKi3zOeL1HUhUl5LJonMVpyw=","app_hash":"R7BB+nBveLV48CNvnplSmVKvIUXdfKWqQCN4JoMzqIM="},"nextSignatures":null}}],"linkHash":"aeeb4b21675c6f69e021add706141baa48136947961105bb2cde12a7bcc4b0e5","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/blah/segments/aeeb4b21675c6f69e021add706141baa48136947961105bb2cde12a7bcc4b0e5"}},{"link":{"state":{"author":"ko","body":"ok"},"meta":{"action":"message","arguments":["ok","ko"],"mapId":"25b3ae4d-151b-4741-b019-ed3169f23333","prevLinkHash":"aeeb4b21675c6f69e021add706141baa48136947961105bb2cde12a7bcc4b0e5","process":"blah","refs":[],"stateHash":"5218609a0922f06ab431e95da522efc711e5ab3f6995b488f57d9eb185b34cc9"}},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-5AKxd9","proof":{"blockHeight":89237,"merkleRoot":"e0e810c8726b2727041b1dace6498501f6f4676684c9580872efe59d27911e5d","merklePath":[],"validationsHash":null,"header":{"chain_id":"test-chain-5AKxd9","height":89237,"time":1513262073,"last_commit_hash":"3yOk3nD/hiJzMHWuCAWCnvI1Iug=","data_hash":"rREaKi3zOeL1HUhUl5LJonMVpyw=","app_hash":"R7BB+nBveLV48CNvnplSmVKvIUXdfKWqQCN4JoMzqIM="},"signatures":null,"nextHeader":{"chain_id":"test-chain-5AKxd9","height":89238,"time":1513262083,"last_block_id":{"hash":"aiLkc4pGZxr91v2Q0GRWE+VlK2w=","parts":{"total":1,"hash":"m643OqeaycqcTKFclL0YbgXSq+Y="}},"last_commit_hash":"zh5r4LtW/pWN/5ADWgsm/hUg0BA=","app_hash":"ex9dZjCvI5iBVn/Ui9RCAw46rqbC3bO1LQ7h86YYn6Q="},"nextSignatures":null}}],"linkHash":"e0e810c8726b2727041b1dace6498501f6f4676684c9580872efe59d27911e5d","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/blah/segments/e0e810c8726b2727041b1dace6498501f6f4676684c9580872efe59d27911e5d"}}]`;

var cs = JSON.parse(chainscript_raw);
var parents_cs = cs.filter(
  s =>
    s.link.meta.prevLinkHash ===
      "21400554ca647d7939aee4727193fba4170ce6a298b75642f593edf55ec940a5" &&
    s.meta.linkHash !==
      "6824b9b8c87833d63e8ace90e75bea47131442ff388a1d64b364ab27feea2cba"
);
var child_1 = cs.find(
  s =>
    s.meta.linkHash ===
    "a6c12f3621882a44d2619d094056de6ccdc5b5726c344b1b4387417a6f1d268e"
);
child_1.link.meta.refs = [];
parents_cs.map(s => child_1.link.meta.refs.push({ linkHash: s.meta.linkHash }));
child_1.link.meta.refs.push({
  process: "z",
  mapId: "ddde0416-c772-478c-b64f-4a095f5de11b",
  linkHash: "6ae53b2cac86ef0a5b959e929c155237f6ee6e965bb7d7598cc25a00288de56c"
});

var child_2 = cs.find(
  s =>
    s.meta.linkHash ===
    "77ca72c7400df035cc785158861201ea4b953c00a5e8e7e182afcfd05bf14cac"
);
child_2.link.meta.refs = [];
child_2.link.meta.refs.push({
  process: "z",
  mapId: "ddde0416-c772-478c-b64f-4a095f5de11b",
  linkHash: "6ae53b2cac86ef0a5b959e929c155237f6ee6e965bb7d7598cc25a00288de56c"
});
child_2.link.meta.refs.push({
  process: "e",
  mapId: "5c950598-0473-4002-82ab-efe4797e851e",
  linkHash: "b9945e1f2cfa197235b07dc6505933adfcad911ee803a419f93fd6b1024fbb1b"
});

export const chainscript = JSON.stringify(cs);
