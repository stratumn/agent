const chainscript_raw = `[{"link":{"state":{"author":"zer","body":"zer"},"meta":{"mapId":"82e24153-d6c1-42b1-9e11-aa7400989c3c","process":"message","action":"message","type":"message","inputs":["zer","zer"],"tags":null,"priority":0,"prevLinkHash":"a769e2b729fd8698bfdd579db432e41fb297d5b9104435d2908a55f7426ece9a","refs":[],"data":null},"signatures":[]},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-CGJmUi","proof":{"block_height":12496,"merkle_root":"37d20c1063dd8fdd0cd6bd8a24f1e667718cd12ac25239e75177ad1e2a3df594","merkle_path":[],"validations_hash":null,"header":{"chain_id":"test-chain-CGJmUi","height":12496,"time":1519893322,"last_block_id":{"parts":{}},"last_commit_hash":"3fOZE8+/Jh4svzpteN16gBiwT0c=","data_hash":"T0pHUNRy/MM+HxxDqDp3X4xz2ck=","app_hash":"IhPp6P7FqqFZCWORbA9AABfY5c1t5vWlukkmLFkP1XQ="},"signatures":null,"next_header":{"chain_id":"test-chain-CGJmUi","height":12497,"time":1519893323,"last_block_id":{"hash":"a458wh/2XUF9KOGU4+E8mOFKXTI=","parts":{"total":1,"hash":"4yplgKu1qhW2ox/Dj6v0Mn0Ub5U="}},"last_commit_hash":"CrFjHZxe6cqyJwA4i19F7MPyXbs=","app_hash":"2+iqhP6oIGEQ80R7ohu2Rv+EElmIiWpg/7/jr/nRK6c="},"nextSignatures":null}}],"linkHash":"37d20c1063dd8fdd0cd6bd8a24f1e667718cd12ac25239e75177ad1e2a3df594","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/message/segments/37d20c1063dd8fdd0cd6bd8a24f1e667718cd12ac25239e75177ad1e2a3df594"}},{"link":{"state":{"author":"zer","body":"rez"},"meta":{"mapId":"82e24153-d6c1-42b1-9e11-aa7400989c3c","process":"message","action":"message","type":"message","inputs":["zer","rez"],"tags":null,"priority":0,"prevLinkHash":"7a6c65532fffcf0b060b108383d247d9a405d05de72d40f1cce277b87b12165b","refs":[],"data":null},"signatures":[]},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-CGJmUi","proof":{"block_height":12727,"merkle_root":"3e847ceb4cff91c5d3d8665feefae94d3a1e0980d874caa28040e09000bf38ab","merkle_path":[],"validations_hash":null,"header":{"chain_id":"test-chain-CGJmUi","height":12727,"time":1519893557,"last_block_id":{"parts":{}},"last_commit_hash":"Abch1Jeajyv9ljXsWNzY7A93uGE=","data_hash":"Mmvb35BssQGx7BSvIIruFD0EpQc=","app_hash":"BK2qJ8TBCOZT5/wTjuj8fGr328w8e4TH7UpH67bzFJE="},"signatures":null,"next_header":{"chain_id":"test-chain-CGJmUi","height":12728,"time":1519893558,"last_block_id":{"hash":"ZXIoQI7PBc2iWzzxBvOpO9M5r0I=","parts":{"total":1,"hash":"lBgB7xsbCNqFopQ01p1P7WUv6v0="}},"last_commit_hash":"8l0u2/FVL5povWnbxpDU5u3jEJg=","app_hash":"Ax/Vq7zjAZgL6cTUE8kC01UZaJDZ2FFyQ6EPCJMKj/Y="},"nextSignatures":null}}],"linkHash":"3e847ceb4cff91c5d3d8665feefae94d3a1e0980d874caa28040e09000bf38ab","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/message/segments/3e847ceb4cff91c5d3d8665feefae94d3a1e0980d874caa28040e09000bf38ab"}},{"link":{"state":{"author":"aze","body":"aze"},"meta":{"mapId":"82e24153-d6c1-42b1-9e11-aa7400989c3c","process":"message","action":"message","type":"message","inputs":["aze","aze"],"tags":null,"priority":0,"prevLinkHash":"e90d2443f77a6936049694049b3d2d0098d610ebb3a035d398a4d43adc57f7dc","refs":[],"data":null},"signatures":[]},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-CGJmUi","proof":{"block_height":12677,"merkle_root":"7a6c65532fffcf0b060b108383d247d9a405d05de72d40f1cce277b87b12165b","merkle_path":[],"validations_hash":null,"header":{"chain_id":"test-chain-CGJmUi","height":12677,"time":1519893506,"last_block_id":{"parts":{}},"last_commit_hash":"0CFnk1arBO3VChEaaPbgPp5y/mE=","data_hash":"hR9Nhs+DsRpJlakxf6Q7aUK3uMM=","app_hash":"SE6oBEt5esx4/m92o+nbnR4sHPgqhGvdVyN5Z1ZqGLI="},"signatures":null,"next_header":{"chain_id":"test-chain-CGJmUi","height":12678,"time":1519893507,"last_block_id":{"hash":"MOTlQ07wi9KdHGe0GdApXn/x5Zo=","parts":{"total":1,"hash":"jdwhJhQRcKQ32283xpJIQwrrYPk="}},"last_commit_hash":"ZAydHrYgOOSBCf8LX8Z2pcUDIus=","app_hash":"JrAbeSV71QRqpObBW9/FLsV8fUjy8zIV7h0NdRL/sEc="},"nextSignatures":null}}],"linkHash":"7a6c65532fffcf0b060b108383d247d9a405d05de72d40f1cce277b87b12165b","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/message/segments/7a6c65532fffcf0b060b108383d247d9a405d05de72d40f1cce277b87b12165b"}},{"link":{"state":{"author":"eza","body":"eaz"},"meta":{"mapId":"82e24153-d6c1-42b1-9e11-aa7400989c3c","process":"message","action":"message","type":"message","inputs":["eza","eaz"],"tags":null,"priority":0,"prevLinkHash":"a3ca9a619d04cfa6586044fc3d67d4abad1c449bf65ad6fba294c8b7942727e5","refs":[],"data":null},"signatures":[{"type":"ed25519","publicKey":"8YGnMCma2cIG/dSkOTnkmyOdmwNpWEsR3YuxKzp5Xic=","signature":"3uouYWsrieSc8ARCs3PhJtnHsmT78/3IfkpnuAwbGdVI+xorJV8cL2LJssKdlxfMOoyWQhPZ4n4sH4jpT5DLDg==","payload":"[meta.inputs,meta.action,meta.refs,meta.prevLinkHash]"}]},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-CGJmUi","proof":{"block_height":16760,"merkle_root":"867f861ee748ed08ed50a0102643e0aceb9c64b1c1b010982a1f2afba13d11e0","merkle_path":[],"validations_hash":null,"header":{"chain_id":"test-chain-CGJmUi","height":16760,"time":1519897898,"last_block_id":{"parts":{}},"last_commit_hash":"LuCbrlGbgI/UonNqUeHADfbyleY=","data_hash":"6BLNt0bwmVpCCWWbIdFpUAaAyKc=","app_hash":"d624QfQDPP8MyknwHho95x+Ihl2lkhgDDFvfVMsqkS0="},"signatures":null,"next_header":{"chain_id":"test-chain-CGJmUi","height":16761,"time":1519897899,"last_block_id":{"hash":"lpGteykVAxIFEcVXPF7PqblcQbg=","parts":{"total":1,"hash":"9gzH26eyJt4r7ADVXWEOkFkXJyc="}},"last_commit_hash":"ANl/YxoOcx4sU5eN/ndzXBbF1mc=","app_hash":"B+MuFybQH4phceizQ5rp+XcdszCXU8WAKXINqxvanGI="},"nextSignatures":null}}],"linkHash":"867f861ee748ed08ed50a0102643e0aceb9c64b1c1b010982a1f2afba13d11e0","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/message/segments/867f861ee748ed08ed50a0102643e0aceb9c64b1c1b010982a1f2afba13d11e0"}},{"link":{"state":{"author":"eza","body":"aze"},"meta":{"mapId":"82e24153-d6c1-42b1-9e11-aa7400989c3c","process":"message","action":"message","type":"message","inputs":["eza","aze"],"tags":null,"priority":0,"prevLinkHash":"3e847ceb4cff91c5d3d8665feefae94d3a1e0980d874caa28040e09000bf38ab","refs":[],"data":null},"signatures":[{"type":"ed25519","publicKey":"8YGnMCma2cIG/dSkOTnkmyOdmwNpWEsR3YuxKzp5Xic=","signature":"DcuLv/P1FzIExodNlJj5cBWa4iB2r1pbKRpZLUN/lTtZaAlT1AU5QNpt9oEpW9sI/iV3y4mo+zL40pVdJRCXBA==","payload":"[meta.inputs,meta.action,meta.refs,meta.prevLinkHash]"}]},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-CGJmUi","proof":{"block_height":12880,"merkle_root":"a3ca9a619d04cfa6586044fc3d67d4abad1c449bf65ad6fba294c8b7942727e5","merkle_path":[],"validations_hash":null,"header":{"chain_id":"test-chain-CGJmUi","height":12880,"time":1519893713,"last_block_id":{"parts":{}},"last_commit_hash":"RjCZILTZ9eSlJSDwFGdUhKnHSh8=","data_hash":"4fF8F/zHfkXcMOwgrkAXeguJJxc=","app_hash":"v6bnsRlPHdw6jgyBytTol+PgTDe8mEoBkdEE1EmrSLI="},"signatures":null,"next_header":{"chain_id":"test-chain-CGJmUi","height":12881,"time":1519893714,"last_block_id":{"hash":"4fugTgNb02ogFJ7QZvSvPnpMpmQ=","parts":{"total":1,"hash":"v2g8viIwQwPhDK2vRwL7cjrBTN8="}},"last_commit_hash":"6r+Q5s5stmhfG1Z5fqSVzm5GuHw=","app_hash":"63abL7NA17V1qtD1wqokabUTL7L59MrsxVQzYS7Z3MQ="},"nextSignatures":null}}],"linkHash":"a3ca9a619d04cfa6586044fc3d67d4abad1c449bf65ad6fba294c8b7942727e5","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/message/segments/a3ca9a619d04cfa6586044fc3d67d4abad1c449bf65ad6fba294c8b7942727e5"}},{"link":{"state":{"title":"zer"},"meta":{"mapId":"82e24153-d6c1-42b1-9e11-aa7400989c3c","process":"message","action":"init","type":"init","inputs":["zer"],"tags":null,"priority":0,"prevLinkHash":"","refs":[],"data":null},"signatures":[{"type":"ed25519","publicKey":"8YGnMCma2cIG/dSkOTnkmyOdmwNpWEsR3YuxKzp5Xic=","signature":"2YfhEUame+1yMu5XcOzMtKYsN21zSOdiFwNMbmbI29khCRNqPAz9RoMd4j4TZh21g5ms5ogYBLoIn1JRoLlaBA==","payload":"[meta.inputs,meta.refs]"}]},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-CGJmUi","proof":{"block_height":1723,"merkle_root":"a769e2b729fd8698bfdd579db432e41fb297d5b9104435d2908a55f7426ece9a","merkle_path":[],"validations_hash":null,"header":{"chain_id":"test-chain-CGJmUi","height":1723,"time":1519835971,"last_block_id":{"parts":{}},"last_commit_hash":"PvH0GoGSkEuB/bHDlPAXwa02O3o=","data_hash":"AjXgiMV4neAkHnRqIv2dmvEmIUE=","app_hash":"2875RCiCFvNZcylq6sTkWXFbSCRveYR6df4XC1j70ik="},"signatures":null,"next_header":{"chain_id":"test-chain-CGJmUi","height":1724,"time":1519835972,"last_block_id":{"hash":"cu15BVPpyOo+Uu3u80QI5v1LCQQ=","parts":{"total":1,"hash":"pwBqylKlhOHcH1whhMeVKZRhVO0="}},"last_commit_hash":"rowSrt+KkQFla0wbwE4Miqh9Ggo=","app_hash":"/ijV9tvWyxtmsYUjrTPOJHouqEUjzSX83MiREgtiSDk="},"nextSignatures":null}}],"linkHash":"a769e2b729fd8698bfdd579db432e41fb297d5b9104435d2908a55f7426ece9a","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/message/segments/a769e2b729fd8698bfdd579db432e41fb297d5b9104435d2908a55f7426ece9a"}},{"link":{"state":{"author":"z","body":"z"},"meta":{"mapId":"82e24153-d6c1-42b1-9e11-aa7400989c3c","process":"message","action":"message","type":"message","inputs":["z","z"],"tags":null,"priority":0,"prevLinkHash":"3e847ceb4cff91c5d3d8665feefae94d3a1e0980d874caa28040e09000bf38ab","refs":[],"data":null},"signatures":[{"type":"ed25519","publicKey":"8YGnMCma2cIG/dSkOTnkmyOdmwNpWEsR3YuxKzp5Xic=","signature":"PghO7X/yCAh+hm4NppedbCpQCcYffcbhZpvFsR8vqJzlWwxkfgbBg4U5kNSjRytytfSjVJchB8zaUJX9y4O4DQ==","payload":"[meta.inputs,meta.action,meta.refs,meta.prevLinkHash]"}]},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-CGJmUi","proof":{"block_height":15600,"merkle_root":"cf3bc0925fd489c8e0316fe75a47acb3d010b01757afd6eff2389bf758189191","merkle_path":[],"validations_hash":null,"header":{"chain_id":"test-chain-CGJmUi","height":15600,"time":1519896479,"last_block_id":{"parts":{}},"last_commit_hash":"/fQPP7j6KZ6Qgo4E5kqt7y5veLk=","data_hash":"BxoiMmoEuNyJs1sQi3qdSpES+3E=","app_hash":"wnKU+8V89SlMfUk+0KfjFlGxvyyNA5p8APKsazfw+Ds="},
"signatures":null,"next_header":{"chain_id":"test-chain-CGJmUi","height":15601,"time":1519896480,"last_block_id":{"hash":"P9dsPQbv9N6Be3uRwXUC3ov2+t4=","parts":{"total":1,"hash":"zJJgWTfC+ieiipSxFPjlFgfz+dk="}},"last_commit_hash":"gl4RLdGd2TlNUYoKqJwpKpbTtwI=","app_hash":"fgTb7v+N0qcg+5cEQLp7ANkCTFC74vf4f0xtLpXjELU="},"nextSignatures":null}}],"linkHash":"cf3bc0925fd489c8e0316fe75a47acb3d010b01757afd6eff2389bf758189191","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/message/segments/cf3bc0925fd489c8e0316fe75a47acb3d010b01757afd6eff2389bf758189191"}},{"link":{"state":{"author":"aze","body":"eaz"},"meta":{"mapId":"82e24153-d6c1-42b1-9e11-aa7400989c3c","process":"message","action":"message","type":"message","inputs":["aze","eaz"],"tags":null,"priority":0,"prevLinkHash":"37d20c1063dd8fdd0cd6bd8a24f1e667718cd12ac25239e75177ad1e2a3df594","refs":[],"data":null},"signatures":[]},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-CGJmUi","proof":{"block_height":12651,"merkle_root":"e90d2443f77a6936049694049b3d2d0098d610ebb3a035d398a4d43adc57f7dc","merkle_path":[],"validations_hash":null,"header":{"chain_id":"test-chain-CGJmUi","height":12651,"time":1519893480,"last_block_id":{"parts":{}},"last_commit_hash":"4hKovZeXw0LUJUCz9NzTPht4zMI=","data_hash":"C1++ra4erc+OGWLIXTdS9+Bb1JU=","app_hash":"OZA4b2XPF0Yb2q6whWRgglW1zMj1jMXX3grDnOCaneM="},"signatures":null,"next_header":{"chain_id":"test-chain-CGJmUi","height":12652,"time":1519893481,"last_block_id":{"hash":"D8eiaHB2BZDjGKI6HxJ3SfAbz84=","parts":{"total":1,"hash":"mNsMfPTBUrpPgLJPYi7a7LG1/9I="}},"last_commit_hash":"BxEvUkD5pLDmmnCdq97Wc8Gh8NA=","app_hash":"JyKmCJJOR/Bl226OM1ylfslYvKbRrtsrGmmi+kykMPA="},"nextSignatures":null}}],"linkHash":"e90d2443f77a6936049694049b3d2d0098d610ebb3a035d398a4d43adc57f7dc","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/message/segments/e90d2443f77a6936049694049b3d2d0098d610ebb3a035d398a4d43adc57f7dc"}},{"link":{"state":{"author":"zer","body":"zer"},"meta":{"mapId":"82e24153-d6c1-42b1-9e11-aa7400989c3c","process":"message","action":"message","type":"message","inputs":["zer","zer"],"tags":null,"priority":0,"prevLinkHash":"e90d2443f77a6936049694049b3d2d0098d610ebb3a035d398a4d43adc57f7dc","refs":[],"data":null},"signatures":[{"type":"ed25519","publicKey":"8YGnMCma2cIG/dSkOTnkmyOdmwNpWEsR3YuxKzp5Xic=","signature":"bFX6B+HqFL6+xhc6M+EU8Yyox3bQzTI1y5L6lWne8bNt7pAukJUm9uzQHSmCYOQFYJow+gqGBm7eJxT2gBjiAA==","payload":"[meta.inputs,meta.action,meta.refs,meta.prevLinkHash]"}]},"meta":{"evidences":[{"backend":"TMPop","provider":"test-chain-CGJmUi","proof":{"block_height":15158,"merkle_root":"f10bf0fc3e463346cafe2d41ad01617c3e31a0ffd8655672ed0d0370b0f5b4af","merkle_path":[],"validations_hash":null,"header":{"chain_id":"test-chain-CGJmUi","height":15158,"time":1519896030,"last_block_id":{"parts":{}},"last_commit_hash":"tTOHLQRczv7WF1CfPLbGN0OQgd4=","data_hash":"oFh4PwWVI9YQcVlWQ0wiLU0HmPk=","app_hash":"cFylgHz82S35DnukaOvRB8PXJV0v5CFQXMiJ/cgpmWw="},"signatures":null,"next_header":{"chain_id":"test-chain-CGJmUi","height":15159,"time":1519896031,"last_block_id":{"hash":"EgmimR7BPji1OhMyID1Bs8ydrGM=","parts":{"total":1,"hash":"S6X4VU/CM9WrFxDjZ3MrwTrhF2k="}},"last_commit_hash":"fwfRccI2ufNdbFDC9D6iz1Wk2AA=","app_hash":"oo0mZbjBfZzjq6jg8ll7pvwghsu1SOGU6lIgRkIsM88="},"nextSignatures":null}}],"linkHash":"f10bf0fc3e463346cafe2d41ad01617c3e31a0ffd8655672ed0d0370b0f5b4af","agentUrl":"http://localhost:3000","segmentUrl":"http://localhost:3000/message/segments/f10bf0fc3e463346cafe2d41ad01617c3e31a0ffd8655672ed0d0370b0f5b4af"}}]`;

var cs = JSON.parse(chainscript_raw);
var parent = cs.find(
  s =>
    s.meta.linkHash ===
    "f10bf0fc3e463346cafe2d41ad01617c3e31a0ffd8655672ed0d0370b0f5b4af"
);
console.log("---", cs);
var child = cs.find(
  s =>
    s.meta.linkHash ===
    "cf3bc0925fd489c8e0316fe75a47acb3d010b01757afd6eff2389bf758189191"
);
child.link.meta.refs = [];
child.link.meta.refs.push({ linkHash: parent.meta.linkHash });

export const chainscript = JSON.stringify(cs);
