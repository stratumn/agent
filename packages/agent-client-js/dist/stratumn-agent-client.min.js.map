{"version":3,"file":null,"sources":["../src/deprecated.js","../src/makeQueryString.js","../src/promiseWhile.js","../src/request.js","../src/findSegments.js","../src/getBranches.js","../src/segmentify.js","../src/createMap.js","../src/getSegment.js","../src/getMapIds.js","../src/getLink.js","../src/getMap.js","../src/getAgent.js","../src/fromSegment.js","../src/getApplication.js","../src/loadLink.js","../node_modules/httpplease/plugins/jsonrequest.js","../node_modules/httpplease/plugins/jsonresponse.js","../node_modules/httpplease/plugins/json.js","../node_modules/httpplease/plugins/cleanurl.js","../node_modules/httpplease/lib/xhr-browser.js","../node_modules/httpplease/lib/utils/delay.js","../node_modules/httpplease/lib/request.js","../node_modules/xtend/index.js","../node_modules/httpplease/lib/utils/extractResponseProps.js","../node_modules/httpplease/lib/response.js","../node_modules/httpplease/lib/error.js","../node_modules/httpplease/lib/utils/once.js","../node_modules/httpplease/lib/index.js","../src/config.js"],"sourcesContent":["/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nexport default function deprecated(oldFunc, newFunc) {\n  if (!newFunc) {\n    console.warn(`WARNING: ${oldFunc} is deprecated.`);\n  } else {\n    console.warn(`WARNING: ${oldFunc} is deprecated. Please use ${newFunc} instead.`);\n  }\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\n/**\n * Makes a query string.\n * @param {object} obj - an object of keys\n * @returns {string} a query string\n */\nexport default function makeQueryString(obj) {\n  const parts = Object.keys(obj).reduce((curr, key) => {\n    const val = Array.isArray(obj[key]) ? obj[key].join('+') : obj[key];\n    curr.push(`${encodeURIComponent(key)}=${encodeURIComponent(val)}`);\n    return curr;\n  }, []);\n\n  if (parts.length) {\n    return `?${parts.join('&')}`;\n  }\n\n  return '';\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\n/**\n * Calls a function that returns a Promise until a condition is reached\n * @param {function} condition - while condition is true body will keep being called\n * @param {function} body - a function that is repeatedly called while condition is true\n * @returns {Promise} a Promise that resolves when the condition is no longer true\n */\nexport default function promiseWhile(condition, body) {\n  return new Promise((resolve, reject) => {\n    function loop() {\n      body()\n      .then(() => {\n        // When the result of calling `condition` is no longer true, we are\n        // done.\n        if (!condition()) {\n          resolve();\n        } else {\n          loop();\n        }\n      })\n      .catch(reject);\n    }\n\n    // Start running the loop in the next tick so that this function is\n    // completely async. It would be unexpected if `body` was called\n    // synchronously the first time.\n    setImmediate(loop);\n  });\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport json from 'httpplease/plugins/json';\nimport httpplease from 'httpplease';\n\nconst request = httpplease.use(json);\n\nfunction send(method, url, args) {\n  return new Promise((resolve, reject) => {\n    request({ method, url, body: args }, (err, res) => {\n      if (err) {\n        const error = (err && err.body && err.body.meta && err.body.meta.errorMessage)\n          ? new Error(err.body.meta.errorMessage)\n          : err;\n        error.status = err.status;\n        reject(error);\n      } else {\n        resolve(res);\n      }\n    });\n  });\n}\n\nexport function get(url) {\n  return send('GET', url);\n}\n\nexport function post(url, args) {\n  return send('POST', url, args);\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport segmentify from './segmentify';\nimport makeQueryString from './makeQueryString';\nimport promiseWhile from './promiseWhile';\nimport { get } from './request';\n\nconst DEFAULT_BATCH_SIZE = 20;\n\nexport default function findSegments(agent, opts = {}) {\n  const options = Object.assign({}, opts);\n  if (opts.limit === -1) {\n    options.limit = options.batchSize || DEFAULT_BATCH_SIZE;\n    delete options.batchSize;\n    options.offset = 0;\n    const segments = [];\n\n    return promiseWhile(\n      () => segments.length === options.limit,\n      () => findSegments(agent, options)\n              .then(newSegments => {\n                segments.push(...newSegments);\n                options.offset += options.limit;\n              })\n    ).then(() => segments);\n  }\n\n  return get(`${agent.url}/segments${makeQueryString(opts)}`)\n    .then(res => res.body.map(obj => segmentify(agent, obj)));\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport findSegments from './findSegments';\nimport deprecated from './deprecated';\n\nexport default function getBranches(agent, prevLinkHash, tags = []) {\n  deprecated(\n    'Agent#getBranches(agent, prevLinkHash, tags = [])',\n    'Agent#findSegments(agent, filter)'\n  );\n\n  return findSegments(agent, { prevLinkHash, tags });\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport deprecated from './deprecated';\nimport getBranches from './getBranches';\nimport { post } from './request';\n\nexport default function segmentify(agent, obj) {\n  Object\n    .keys(agent.agentInfo.actions)\n    .filter(key => ['init'].indexOf(key) < 0)\n    .forEach(key => {\n      /*eslint-disable*/\n      obj[key] = (...args) =>\n        post(`${agent.url}/segments/${obj.meta.linkHash}/${key}`, args)\n          .then(res => segmentify(agent, res.body))\n    });\n\n  /*eslint-disable*/\n  obj.getPrev = () => {\n    /*eslint-enable*/\n    if (obj.link.meta.prevLinkHash) {\n      return agent.getSegment(obj.link.meta.prevLinkHash);\n    }\n\n    return Promise.resolve(null);\n  };\n\n  // Deprecated.\n  /*eslint-disable*/\n  obj.load = () => {\n    /*eslint-enable*/\n    deprecated('segment#load()');\n    return Promise.resolve(segmentify(agent, {\n      link: JSON.parse(JSON.stringify(obj.link)),\n      meta: JSON.parse(JSON.stringify(obj.meta))\n    }));\n  };\n\n  // Deprecated.\n  /*eslint-disable*/\n  obj.getBranches = (...args) => {\n    /*eslint-enable*/\n    return getBranches(agent, obj.meta.linkHash, ...args);\n  };\n\n  return obj;\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport segmentify from './segmentify';\nimport { post } from './request';\n\nexport default function createMap(agent, ...args) {\n  return post(`${agent.url}/segments`, args)\n    .then(res => segmentify(agent, res.body));\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport segmentify from './segmentify';\nimport { get } from './request';\n\nexport default function getSegment(agent, linkHash) {\n  return get(`${agent.url}/segments/${linkHash}`)\n    .then(res => segmentify(agent, res.body));\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport makeQueryString from './makeQueryString';\nimport { get } from './request';\n\nexport default function getMapIds(agent, opts = {}) {\n  return get(`${agent.url}/maps${makeQueryString(opts)}`)\n    .then(res => res.body);\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport getSegment from './getSegment';\nimport deprecated from './deprecated';\n\nexport default function getLink(agent, hash) {\n  deprecated('Agent#getLink(agent, hash)', 'Agent#getSegment(agent, hash)');\n\n  return getSegment(agent, hash);\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport findSegments from './findSegments';\nimport deprecated from './deprecated';\n\nexport default function getMap(agent, mapId, tags = []) {\n  deprecated('getMap(agent, mapId, tags = [])', 'findSegments(agent, filter)');\n\n  return findSegments(agent, { mapId, tags });\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport createMap from './createMap';\nimport getSegment from './getSegment';\nimport findSegments from './findSegments';\nimport getMapIds from './getMapIds';\nimport { get } from './request';\n\n// Deprecated.\nimport getBranches from './getBranches';\nimport getLink from './getLink';\nimport getMap from './getMap';\n\nexport default function getAgent(url) {\n  return get(url)\n    .then(res => {\n      const agent = res.body;\n\n      agent.url = url;\n      agent.createMap = createMap.bind(null, agent);\n      agent.getSegment = getSegment.bind(null, agent);\n      agent.findSegments = findSegments.bind(null, agent);\n      agent.getMapIds = getMapIds.bind(null, agent);\n\n      // Deprecated.\n      agent.getBranches = getBranches.bind(null, agent);\n      agent.getLink = getLink.bind(null, agent);\n      agent.getMap = getMap.bind(null, agent);\n\n      return agent;\n    });\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport getAgent from './getAgent';\nimport segmentify from './segmentify';\n\nexport default function fromSegment(obj) {\n  return getAgent(obj.meta.agentUrl || obj.meta.applicationLocation)\n    .then(agent => {\n      const segment = segmentify(agent, obj);\n      return { agent, segment };\n    });\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport getAgent from './getAgent';\nimport deprecated from './deprecated';\nimport config from './config';\n\nexport default function getApplication(name, url) {\n  deprecated('getApplication(name, url)', 'getAgent(url)');\n\n  return getAgent(url || config.applicationUrl.replace('%s', name));\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport fromSegment from './fromSegment';\nimport deprecated from './deprecated';\n\nexport default function loadLink(obj) {\n  deprecated('loadLink(obj)', 'fromSegment(obj)');\n\n  return fromSegment(obj)\n    .then(({ segment }) => segment);\n}\n","'use strict';\n\nmodule.exports = {\n  processRequest: function(req) {\n    var\n      contentType = req.header('Content-Type'),\n      hasJsonContentType = contentType &&\n                           contentType.indexOf('application/json') !== -1;\n\n    if (contentType != null && !hasJsonContentType) {\n      return;\n    }\n\n    if (req.body) {\n      if (!contentType) {\n        req.header('Content-Type', 'application/json');\n      }\n\n      req.body = JSON.stringify(req.body);\n    }\n  }\n};\n","'use strict';\n\nmodule.exports = {\n  processRequest: function(req) {\n    var accept = req.header('Accept');\n    if (accept == null) {\n      req.header('Accept', 'application/json');\n    }\n  },\n  processResponse: function(res) {\n    // Check to see if the contentype is \"something/json\" or\n    // \"something/somethingelse+json\"\n    if (res.contentType && /^.*\\/(?:.*\\+)?json(;|$)/i.test(res.contentType)) {\n      var raw = typeof res.body === 'string' ? res.body : res.text;\n      if (raw) {\n        res.body = JSON.parse(raw);\n      }\n    }\n  }\n};\n","'use strict';\n\nvar jsonrequest = require('./jsonrequest'),\n    jsonresponse = require('./jsonresponse');\n\nmodule.exports = {\n  processRequest: function(req) {\n    jsonrequest.processRequest.call(this, req);\n    jsonresponse.processRequest.call(this, req);\n  },\n  processResponse: function(res) {\n    jsonresponse.processResponse.call(this, res);\n  }\n};\n","'use strict';\n\nmodule.exports = {\n  processRequest: function(req) {\n    req.url = req.url.replace(/[^%]+/g, function(s) {\n      return encodeURI(s);\n    });\n  }\n};\n","module.exports = window.XMLHttpRequest;\n","'use strict';\n\n// Wrap a function in a `setTimeout` call. This is used to guarantee async\n// behavior, which can avoid unexpected errors.\n\nmodule.exports = function(fn) {\n  return function() {\n    var\n      args = Array.prototype.slice.call(arguments, 0),\n      newFunc = function() {\n        return fn.apply(null, args);\n      };\n    setTimeout(newFunc, 0);\n  };\n};\n","'use strict';\n\nfunction Request(optsOrUrl) {\n  var opts = typeof optsOrUrl === 'string' ? {url: optsOrUrl} : optsOrUrl || {};\n  this.method = opts.method ? opts.method.toUpperCase() : 'GET';\n  this.url = opts.url;\n  this.headers = opts.headers || {};\n  this.body = opts.body;\n  this.timeout = opts.timeout || 0;\n  this.errorOn404 = opts.errorOn404 != null ? opts.errorOn404 : true;\n  this.onload = opts.onload;\n  this.onerror = opts.onerror;\n}\n\nRequest.prototype.abort = function() {\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr.abort();\n  return this;\n};\n\nRequest.prototype.header = function(name, value) {\n  var k;\n  for (k in this.headers) {\n    if (this.headers.hasOwnProperty(k)) {\n      if (name.toLowerCase() === k.toLowerCase()) {\n        if (arguments.length === 1) {\n          return this.headers[k];\n        }\n\n        delete this.headers[k];\n        break;\n      }\n    }\n  }\n  if (value != null) {\n    this.headers[name] = value;\n    return value;\n  }\n};\n\n\nmodule.exports = Request;\n","module.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict';\n\nvar extend = require('xtend');\n\nmodule.exports = function(req) {\n  var xhr = req.xhr;\n  var props = {request: req, xhr: xhr};\n\n  // Try to create the response from the request. If the request was aborted,\n  // accesssing properties of the XHR may throw an error, so we wrap in a\n  // try/catch.\n  try {\n    var lines, i, m, headers = {};\n    if (xhr.getAllResponseHeaders) {\n      lines = xhr.getAllResponseHeaders().split('\\n');\n      for (i = 0; i < lines.length; i++) {\n        if ((m = lines[i].match(/\\s*([^\\s]+):\\s+([^\\s]+)/))) {\n          headers[m[1]] = m[2];\n        }\n      }\n    }\n\n    props = extend(props, {\n      status: xhr.status,\n      contentType: xhr.contentType || (xhr.getResponseHeader && xhr.getResponseHeader('Content-Type')),\n      headers: headers,\n      text: xhr.responseText,\n      body: xhr.response || xhr.responseText\n    });\n  } catch (err) {}\n\n  return props;\n};\n","'use strict';\n\nvar Request = require('./request');\nvar extractResponseProps = require('./utils/extractResponseProps');\n\nfunction Response(props) {\n  this.request = props.request;\n  this.xhr = props.xhr;\n  this.headers = props.headers || {};\n  this.status = props.status || 0;\n  this.text = props.text;\n  this.body = props.body;\n  this.contentType = props.contentType;\n  this.isHttpError = props.status >= 400;\n}\n\nResponse.prototype.header = Request.prototype.header;\n\nResponse.fromRequest = function(req) {\n  return new Response(extractResponseProps(req));\n};\n\n\nmodule.exports = Response;\n","'use strict';\n\nvar Response = require('./response');\nvar extractResponseProps = require('./utils/extractResponseProps');\nvar extend = require('xtend');\n\nfunction RequestError(message, props) {\n  var err = new Error(message);\n  err.name = 'RequestError';\n  this.name = err.name;\n  this.message = err.message;\n  if (err.stack) {\n    this.stack = err.stack;\n  }\n\n  this.toString = function() {\n    return this.message;\n  };\n\n  for (var k in props) {\n    if (props.hasOwnProperty(k)) {\n      this[k] = props[k];\n    }\n  }\n}\n\nRequestError.prototype = extend(Error.prototype);\nRequestError.prototype.constructor = RequestError;\n\nRequestError.create = function(message, req, props) {\n  var err = new RequestError(message, props);\n  Response.call(err, extractResponseProps(req));\n  return err;\n};\n\nmodule.exports = RequestError;\n","'use strict';\n\n// A \"once\" utility.\nmodule.exports = function(fn) {\n  var result, called = false;\n  return function() {\n    if (!called) {\n      called = true;\n      result = fn.apply(this, arguments);\n    }\n    return result;\n  };\n};\n","'use strict';\n\nvar\n  cleanURL = require('../plugins/cleanurl'),\n  XHR = require('./xhr'),\n  delay = require('./utils/delay'),\n  RequestError = require('./error'),\n  Response = require('./response'),\n  Request = require('./request'),\n  extend = require('xtend'),\n  once = require('./utils/once');\n\nvar i,\n    createError = RequestError.create;\n\nfunction factory(defaults, plugins) {\n  defaults = defaults || {};\n  plugins = plugins || [];\n\n  function http(req, cb) {\n    var xhr, plugin, done, k, timeoutId, supportsLoadAndErrorEvents;\n\n    req = new Request(extend(defaults, req));\n\n    for (i = 0; i < plugins.length; i++) {\n      plugin = plugins[i];\n      if (plugin.processRequest) {\n        plugin.processRequest(req);\n      }\n    }\n\n    // Give the plugins a chance to create the XHR object\n    for (i = 0; i < plugins.length; i++) {\n      plugin = plugins[i];\n      if (plugin.createXHR) {\n        xhr = plugin.createXHR(req);\n        break; // First come, first serve\n      }\n    }\n    xhr = xhr || new XHR();\n\n    req.xhr = xhr;\n\n    // Use a single completion callback. This can be called with or without\n    // an error. If no error is passed, the request will be examined to see\n    // if it was successful.\n    done = once(delay(function(rawError) {\n      clearTimeout(timeoutId);\n      xhr.onload = xhr.onerror = xhr.onabort = xhr.onreadystatechange = xhr.ontimeout = xhr.onprogress = null;\n\n      var err = getError(req, rawError);\n\n      var res = err || Response.fromRequest(req);\n      for (i = 0; i < plugins.length; i++) {\n        plugin = plugins[i];\n        if (plugin.processResponse) {\n          plugin.processResponse(res);\n        }\n      }\n\n      // Invoke callbacks\n      if (err && req.onerror) req.onerror(err);\n      if (!err && req.onload) req.onload(res);\n      if (cb) cb(err, err ? undefined : res);\n\n    }));\n\n    supportsLoadAndErrorEvents = ('onload' in xhr) && ('onerror' in xhr);\n    xhr.onload = function() { done(); };\n    xhr.onerror = done;\n    xhr.onabort = function() { done(); };\n\n    // We'd rather use `onload`, `onerror`, and `onabort` since they're the\n    // only way to reliably detect successes and failures but, if they\n    // aren't available, we fall back to using `onreadystatechange`.\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState !== 4) return;\n\n      if (req.aborted) return done();\n\n      if (!supportsLoadAndErrorEvents) {\n        // Assume a status of 0 is an error. This could be a false\n        // positive, but there's no way to tell when using\n        // `onreadystatechange` ):\n        // See matthewwithanm/react-inlinesvg#10.\n\n        // Some browsers don't like you reading XHR properties when the\n        // XHR has been aborted. In case we've gotten here as a result\n        // of that (either our calling `about()` in the timeout handler\n        // or the user calling it directly even though they shouldn't),\n        // be careful about accessing it.\n        var status;\n        try {\n          status = xhr.status;\n        } catch (err) {}\n        var err = status === 0 ? new Error('Internal XHR Error') : null;\n        return done(err);\n      }\n    };\n\n    // IE sometimes fails if you don't specify every handler.\n    // See http://social.msdn.microsoft.com/Forums/ie/en-US/30ef3add-767c-4436-b8a9-f1ca19b4812e/ie9-rtm-xdomainrequest-issued-requests-may-abort-if-all-event-handlers-not-specified?forum=iewebdevelopment\n    xhr.ontimeout = function() { /* noop */ };\n    xhr.onprogress = function() { /* noop */ };\n\n    xhr.open(req.method, req.url);\n\n    if (req.timeout) {\n      // If we use the normal XHR timeout mechanism (`xhr.timeout` and\n      // `xhr.ontimeout`), `onreadystatechange` will be triggered before\n      // `ontimeout`. There's no way to recognize that it was triggered by\n      // a timeout, and we'd be unable to dispatch the right error.\n      timeoutId = setTimeout(function() {\n        req.timedOut = true;\n        done();\n        try {\n          xhr.abort();\n        } catch (err) {}\n      }, req.timeout);\n    }\n\n    for (k in req.headers) {\n      if (req.headers.hasOwnProperty(k)) {\n        xhr.setRequestHeader(k, req.headers[k]);\n      }\n    }\n\n    xhr.send(req.body);\n\n    return req;\n  }\n\n  var method,\n    methods = ['get', 'post', 'put', 'head', 'patch', 'delete'],\n    verb = function(method) {\n      return function(req, cb) {\n        req = new Request(req);\n        req.method = method;\n        return http(req, cb);\n      };\n    };\n  for (i = 0; i < methods.length; i++) {\n    method = methods[i];\n    http[method] = verb(method);\n  }\n\n  http.plugins = function() {\n    return plugins;\n  };\n\n  http.defaults = function(newValues) {\n    if (newValues) {\n      return factory(extend(defaults, newValues), plugins);\n    }\n    return defaults;\n  };\n\n  http.use = function() {\n    var newPlugins = Array.prototype.slice.call(arguments, 0);\n    return factory(defaults, plugins.concat(newPlugins));\n  };\n\n  http.bare = function() {\n    return factory();\n  };\n\n  http.Request = Request;\n  http.Response = Response;\n  http.RequestError = RequestError;\n\n  return http;\n}\n\nmodule.exports = factory({}, [cleanURL]);\n\n/**\n * Analyze the request to see if it represents an error. If so, return it! An\n * original error object can be passed as a hint.\n */\nfunction getError(req, err) {\n  if (req.aborted) return createError('Request aborted', req, {name: 'Abort'});\n\n  if (req.timedOut) return createError('Request timeout', req, {name: 'Timeout'});\n\n  var xhr = req.xhr;\n  var type = Math.floor(xhr.status / 100);\n\n  var kind;\n  switch (type) {\n    case 0:\n    case 2:\n      // These don't represent errors unless the function was passed an\n      // error object explicitly.\n      if (!err) return;\n      return createError(err.message, req);\n    case 4:\n      // Sometimes 4XX statuses aren't errors.\n      if (xhr.status === 404 && !req.errorOn404) return;\n      kind = 'Client';\n      break;\n    case 5:\n      kind = 'Server';\n      break;\n    default:\n      kind = 'HTTP';\n  }\n  var msg = kind + ' Error: ' +\n        'The server returned a status of ' + xhr.status +\n        ' for the request \"' +\n        req.method.toUpperCase() + ' ' + req.url + '\"';\n  return createError(msg, req);\n}\n","/*\n    Copyright (C) 2017  Stratumn SAS\n\n    This Source Code Form is subject to the terms of the Mozilla Public\n    License, v. 2.0. If a copy of the MPL was not distributed with this\n    file, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/\n\n// Deprecated.\nexport default {\n  applicationUrl: 'https://%s.stratumn.rocks'\n};\n"],"names":["deprecated","oldFunc","newFunc","warn","makeQueryString","obj","parts","Object","keys","reduce","curr","key","val","Array","isArray","join","push","encodeURIComponent","length","promiseWhile","condition","body","Promise","resolve","reject","loop","then","catch","send","method","url","args","err","res","error","meta","errorMessage","Error","status","get","post","findSegments","agent","opts","options","assign","limit","batchSize","DEFAULT_BATCH_SIZE","offset","segments","newSegments","map","segmentify","getBranches","prevLinkHash","tags","agentInfo","actions","filter","indexOf","forEach","linkHash","getPrev","link","getSegment","load","JSON","parse","stringify","createMap","getMapIds","getLink","hash","getMap","mapId","getAgent","bind","fromSegment","agentUrl","applicationLocation","segment","getApplication","name","config","applicationUrl","replace","loadLink","module","exports","processRequest","req","contentType","header","hasJsonContentType","accept","processResponse","test","raw","text","jsonrequest","commonjsHelpers.interopDefault","jsonresponse","call","this","s","encodeURI","window","XMLHttpRequest","fn","prototype","slice","arguments","apply","setTimeout","Request","optsOrUrl","toUpperCase","headers","timeout","errorOn404","onload","onerror","abort","aborted","xhr","value","k","hasOwnProperty","toLowerCase","extend","target","i","source","props","request","lines","m","getAllResponseHeaders","split","match","getResponseHeader","responseText","response","Response","isHttpError","extractResponseProps","fromRequest","RequestError","message","stack","toString","constructor","create","result","called","factory","defaults","plugins","http","cb","plugin","done","timeoutId","supportsLoadAndErrorEvents","createXHR","XHR","once","delay","rawError","clearTimeout","onabort","onreadystatechange","ontimeout","onprogress","getError","undefined","readyState","open","timedOut","setRequestHeader","methods","verb","newValues","use","newPlugins","concat","bare","createError","kind","type","Math","floor","msg","cleanURL","httpplease","json"],"mappings":"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"}