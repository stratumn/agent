{"version":3,"file":null,"sources":["../src/hashToStringColor.js","../src/AceConfiguration.service.js","../src/ChainTreeBuilder.service.js","../src/MapValidator.service.js","../src/MapExplorer.controller.js","../src/functionArguments.filter.js","../src/index.js"],"sourcesContent":["function djb2(str) {\n  let hash = 5381;\n  for (let i = 0; i < str.length; i++) {\n    hash = ((hash << 5) + hash) + str.charCodeAt(i); /* hash * 33 + c */\n  }\n  return hash;\n}\n\nexport default function hashStringToColor(str) {\n  const hash = djb2(str);\n  const r = (hash & 0xFF0000) >> 16;\n  const g = (hash & 0x00FF00) >> 8;\n  const b = hash & 0x0000FF;\n  return `#${`0${r.toString(16)}`.substr(-2)\n  + `0${g.toString(16)}`.substr(-2) + `0${b.toString(16)}`.substr(-2)}`;\n}\n","export default class AceConfigurationService {\n  configure(editor) {\n    editor.setShowPrintMargin(false);\n    editor.$blockScrolling = Infinity;\n    editor.setOptions({\n      fontFamily: 'RationalTWText-Light, \\'Roboto Mono\\', monospace',\n      fontSize: '14'\n    });\n  }\n}\n","import { ChainTreeBuilder } from 'mapexplorer-core';\n\nexport default class ChainTreeBuilderService {\n  constructor($q) {\n    this.$q = $q;\n  }\n\n  getBuilder(element) {\n    return new ChainTreeBuilder(element);\n  }\n\n  build(builder, map, options) {\n    return this.$q.when(builder.build({\n      id: map.mapId,\n      application: map.application,\n      chainscript: map.chainscript\n    }, options));\n  }\n}\n\nChainTreeBuilderService.$inject = ['$q'];\n","import { ChainValidator } from 'mapexplorer-core';\n\nexport default class MapValidatorService {\n  constructor($q) {\n    this.$q = $q;\n  }\n\n  validate(chainscript) {\n    return this.$q.when(\n      new ChainValidator(chainscript).validate()\n    );\n  }\n}\n\nMapValidatorService.$inject = ['$q'];\n","export default class MapExplorer {\n\n  constructor($scope, AceConfigurationService) {\n    this.$scope = $scope;\n    this.displayed = 'state';\n\n    $scope.$watch(() => this.segment, () => {\n      if (this.segment) {\n        this.state = JSON.stringify(this.segment.link.state, undefined, 2);\n        this.segmentJSON = JSON.stringify(this.segment, undefined, 2);\n      }\n    });\n\n    this.aceLoaded = _editor => {\n      AceConfigurationService.configure(_editor);\n    };\n  }\n\n  show(segment, onHide) {\n    this.segment = segment;\n    this.onHide = onHide;\n    this.$scope.$parent.onSegmentShow(this.$scope.name);\n  }\n\n  display(tab) {\n    this.displayed = tab;\n  }\n\n  close() {\n    this.segment = null;\n    this.$scope.$parent.onSegmentHide(this.$scope.name);\n    this.onHide();\n  }\n}\n\nMapExplorer.$inject = ['$scope', 'AceConfigurationService'];\n","export default function filter(args = []) {\n  return args.map(arg => {\n    if (arg instanceof Object) {\n      return JSON.stringify(arg, undefined, 2);\n    }\n    return arg;\n  }).join(', ');\n}\n","import angular from 'angular';\nimport 'angular-animate';\nimport 'angular-material';\nimport 'angular-aria';\nimport 'md-color-picker';\nimport 'angular-drop';\n\nimport stMerklePathTree from './stMerklePathTree.directive';\nimport stMapExplorer from './stMapExplorer.directive';\nimport stMapValidator from './stMapValidator.directive';\nimport stPromiseLoader from './stPromiseLoader.directive';\nimport stTagColorPicker from './stTagColorPicker.directive';\nimport AceConfigurationService from './AceConfiguration.service';\nimport ChainTreeBuilderService from './ChainTreeBuilder.service';\nimport MapValidatorService from './MapValidator.service';\nimport MapExplorerController from './MapExplorer.controller';\nimport functionArguments from './functionArguments.filter';\n\nexport default angular.module('stratumn.angular-mapexplorer',\n  ['ngAnimate', 'ngMaterial', 'ngAria', 'mdColorPicker', 'ui.drop']\n)\n  .directive('stMapExplorer', stMapExplorer)\n  .directive('stMerklePathTree', stMerklePathTree)\n  .directive('stMapValidator', stMapValidator)\n  .directive('stPromiseLoader', stPromiseLoader)\n  .directive('stTagColorPicker', stTagColorPicker)\n  .service('AceConfigurationService', AceConfigurationService)\n  .service('ChainTreeBuilderService', ChainTreeBuilderService)\n  .service('MapValidatorService', MapValidatorService)\n  .controller('MapExplorerController', MapExplorerController)\n  .filter('functionArguments', () => functionArguments)\n  .name;\n\n"],"names":["ChainTreeBuilder","ChainValidator","MapExplorerController","functionArguments"],"mappings":"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"}